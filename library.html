<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<title>ç”µå­ä¹¦åº“</title>
<style>
  
  body {
    background: #111;
    color: #0f0;
    font-family: monospace;
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
  }

  .book-card {
    background: #222;
    border: 2px solid #0f0;
    border-radius: 12px;
    padding: 20px;
    width: 400px;
    text-align: center;
  }

  /* ä¹¦åï¼šæœ€å¤§ */
  .book-card h1 {
    margin: 0 0 10px 0;
    font-size: 2em; /* å¯ä»¥å†è°ƒå¤§ä¸€ç‚¹ */
  }

  /* æè¿°æ–‡å­—ï¼šæ¯”æŒ‰é’®å¤§ä¸€ç‚¹ï¼Œä½†æ¯”ä¹¦åå° */
  .book-card p {
    line-height: 1.4;
    font-size: 1.1em; 
    margin-bottom: 20px;
  }

  /* æŒ‰é’®ï¼šæœ€å° */
  .book-card button {
    padding: 8px 16px;
    background: #0f0;
    color: #111;
    border: none;
    border-radius: 6px;
    cursor: pointer;
    font-size: 1em;
  }

  .book-card button:hover {
    background: #0c0;
  }

  /* å½©è™¹ä¹¦å */
  .rainbow-text {
    background: linear-gradient(90deg, red, orange, yellow, green, cyan, blue, violet);
    -webkit-background-clip: text;
    color: transparent;
  }


body { background:#111; color:#0f0; font-family: monospace; padding:20px; }
h1,h2{text-align:center;}
button { margin:5px; padding:5px 10px; background:#111; color:#0f0; border:1px solid #0f0; cursor:pointer; border-radius:5px;}
button:hover { background:#0f0; color:#111;}
#book-intro { margin-top:20px; }
#chapter-list { margin-top:10px; }
</style>
</head>
<body>

<!-- è¿”å›é¦–é¡µæŒ‰é’® -->
<button id="back-btn" onclick="window.location.href='books.html'">â¬… è¿”å›é¦–é¡µ</button>

<h1>ğŸ“š ç›®å½•</h1>
<div class="book-title-container">
    <h1 class="rainbow-text">ğŸ“– 21ä¸–çºªçš„21å ‚è¯¾</h1>
</div>
<div id="books-list"></div>

<!-- ä¹¦ç±ä»‹ç»å’Œç« èŠ‚ç›®å½• -->
<div id="book-intro" style="display:none;">
  <h2 id="book-title"></h2>
  <p id="book-description"></p>

  <audio id="introAudio" src="assets/book1/"></audio>
  <!-- æ’­æ”¾/æš‚åœæŒ‰é’® -->
  <button onclick="toggleAudio()">ğŸ”Š æ’­æ”¾/æš‚åœæœ—è¯»</button>

  <ol id="chapter-list"></ol>
  <button onclick="closeIntro()">å…³é—­ä»‹ç»</button>
</div>

<script>
function toggleAudio() {
  const audio = document.getElementById("introAudio");
  if (audio.paused) {
    audio.play().catch(err => {
      console.error("æ’­æ”¾å¤±è´¥:", err);
    });
  } else {
    audio.pause();
  }
}
// ä¹¦ç±æ•°æ®
const books = [
  {
    id: 'book1',
    title: 'è¯·ç‚¹å‡»ä¸‹æ–¹ç« èŠ‚å¼€å§‹é˜…è¯»',
    description: `å°¤ç“¦å°”Â·èµ«æ‹‰åˆ©ï¼ˆYuval Noah Harariï¼‰å†™çš„ç¤¾ä¼šä¸æœªæ¥è¶‹åŠ¿ä¹¦ç±ã€‚
è¿™æœ¬ä¹¦æ¢è®¨äº†ç°ä»£ç¤¾ä¼šã€ç§‘æŠ€ã€äººç±»æœªæ¥ã€æ”¿æ²»ä¸ä¸ªäººç”Ÿå­˜ç­‰æ–¹é¢çš„é—®é¢˜ã€‚

1ï¸âƒ£ å…¨ä¹¦ä¸»é¢˜æ¦‚è§ˆ
æ ¸å¿ƒé—®é¢˜ï¼šåœ¨å¿«é€Ÿå˜åŒ–çš„21ä¸–çºªï¼Œå“ªäº›çŸ¥è¯†ã€æŠ€èƒ½ã€æ€ç»´æ¨¡å¼å¯¹ä¸ªäººå’Œç¤¾ä¼šæœ€é‡è¦ï¼Ÿ
å…³æ³¨æ–¹å‘ï¼š
- ç§‘æŠ€ä¸äººå·¥æ™ºèƒ½çš„å†²å‡»
- å…¨çƒåŒ–ä¸æ°‘æ—ä¸»ä¹‰çš„ç¢°æ’
- ä¿¡æ¯æ—¶ä»£çš„å‡æ–°é—»ä¸æ•°æ®æ“æ§
- äººç±»è‡ªæˆ‘è®¤çŸ¥ã€å¹¸ç¦ä¸ä¼¦ç†æŒ‘æˆ˜

2ï¸âƒ£ 21å ‚è¯¾å†…å®¹æ¦‚è§ˆ
ç¬¬ä¸€éƒ¨åˆ†ï¼šç§‘æŠ€ä¸äººç±»æœªæ¥
1.äººå·¥æ™ºèƒ½ä¸å·¥ä½œ
2.ç”Ÿç‰©ç§‘æŠ€ä¸æœªæ¥èº«ä½“
3.æ•°æ®ä¸éšç§
4.ç½‘ç»œå®‰å…¨ä¸æ”¿æ²»æ“æ§

ç¬¬äºŒéƒ¨åˆ†ï¼šæ”¿æ²»ä¸ç¤¾ä¼š
5.ææ€–ä¸»ä¹‰ä¸å®‰å…¨
6.æ°‘ä¸»ä¸æ°‘æ—ä¸»ä¹‰
7.æ•™è‚²ä¸æŠ€èƒ½åŸ¹å…»
8.è‡ªç”±ä¸ç®—æ³•å†³å®š
9.ä¸–ç•Œç§©åº

ç¬¬ä¸‰éƒ¨åˆ†ï¼šç”Ÿæ´»ä¸è®¤çŸ¥
10.æ„ä¹‰ä¸å®—æ•™
11.å¹¸ç¦ä¸å¿ƒç†å¥åº·
12.æ•™è‚²çš„é‡è¦æ€§
13.æ„è¯†ä¸è‡ªæˆ‘è®¤çŸ¥
14.æ•…äº‹ä¸ä»·å€¼è§‚

ç¬¬å››éƒ¨åˆ†ï¼šå…¨çƒé—®é¢˜ä¸æœªæ¥
15.ç¯å¢ƒä¸æ°”å€™å˜åŒ–
16.æ ¸æ­¦å™¨ä¸æˆ˜äº‰
17.ç§»æ°‘ä¸äººå£æµåŠ¨
18.å…¨çƒåˆä½œä¸æ²»ç†
19.äººå·¥æ™ºèƒ½ä¸ä¸å¹³ç­‰
20.äººç±»æœªæ¥çš„ä¼¦ç†
21.é¢å¯¹ä¸ç¡®å®šæ€§

3ï¸âƒ£ æ ¸å¿ƒå¯ç¤º
- ä¿¡æ¯æ¯”çŸ¥è¯†æ›´é‡è¦
- æŠ€èƒ½æ¯”å­¦å†é‡è¦
- ä¼¦ç†ä¸ä»·å€¼è§‚
- å…¨çƒè§†é‡
- å¿ƒç†å‡†å¤‡`,
    chapters: [
      'äººå·¥æ™ºèƒ½ä¸å·¥ä½œ',
      'ç”Ÿç‰©ç§‘æŠ€ä¸æœªæ¥èº«ä½“',
      'æ•°æ®ä¸éšç§',
      'ç½‘ç»œå®‰å…¨ä¸æ”¿æ²»æ“æ§',
      'ææ€–ä¸»ä¹‰ä¸å®‰å…¨',
      'æ°‘ä¸»ä¸æ°‘æ—ä¸»ä¹‰',
      'æ•™è‚²ä¸æŠ€èƒ½åŸ¹å…»',
      'è‡ªç”±ä¸ç®—æ³•å†³å®š',
      'ä¸–ç•Œç§©åº',
      'æ„ä¹‰ä¸å®—æ•™',
      'å¹¸ç¦ä¸å¿ƒç†å¥åº·',
      'æ•™è‚²çš„é‡è¦æ€§',
      'æ„è¯†ä¸è‡ªæˆ‘è®¤çŸ¥',
      'æ•…äº‹ä¸ä»·å€¼è§‚',
      'ç¯å¢ƒä¸æ°”å€™å˜åŒ–',
      'æ ¸æ­¦å™¨ä¸æˆ˜äº‰',
      'ç§»æ°‘ä¸äººå£æµåŠ¨',
      'å…¨çƒåˆä½œä¸æ²»ç†',
      'äººå·¥æ™ºèƒ½ä¸ä¸å¹³ç­‰',
      'äººç±»æœªæ¥çš„ä¼¦ç†',
      'é¢å¯¹ä¸ç¡®å®šæ€§'
    ]
  }
];

let audio = null;

// æ¸²æŸ“ä¹¦ç±åˆ—è¡¨
const booksListDiv = document.getElementById('books-list');
books.forEach(book=>{
  const btn = document.createElement('button');
  btn.textContent = book.title;
  btn.onclick = () => showIntro(book);
  booksListDiv.appendChild(btn);
});

// æ˜¾ç¤ºä¹¦ç±ä»‹ç»å’Œç« èŠ‚
function showIntro(book){
  document.getElementById('book-intro').style.display = 'block';
  document.getElementById('book-title').textContent = book.title;
  document.getElementById('book-description').textContent = book.description;

  // æ¸²æŸ“ç« èŠ‚
  const chapterList = document.getElementById('chapter-list');
  chapterList.innerHTML = '';
  book.chapters.forEach((chapter, i)=>{
    const li = document.createElement('li');
    const btn = document.createElement('button');
    btn.textContent = chapter;
    btn.onclick = () => goToChapter(book.id, i+1);
    li.appendChild(btn);
    chapterList.appendChild(li);
  });

  // åˆå§‹åŒ–éŸ³é¢‘ï¼ˆæœ—è¯»æ–‡ä»¶åæŒ‰ bookId-chapter.mp3ï¼‰
  if(audio){
    audio.pause();
    audio = null;
  }
  audio = new Audio(`assets/${book.id}/zh/chapter1.mp3`); // é»˜è®¤ç¬¬1ç« 
}

// å…³é—­ä»‹ç»
function closeIntro(){
  document.getElementById('book1-intro.mp3').style.display = 'none';
  if(audio){ audio.pause(); audio = null; }
}

// æ’­æ”¾/æš‚åœéŸ³é¢‘
function toggleAudio(){
  if(audio){
    if(audio.paused) audio.play();
    else audio.pause();
  }
}

// è·³è½¬åˆ°é˜…è¯»å™¨
function goToChapter(bookId, chapterNum){
  window.location.href = `reader.html?book=${bookId}&chapter=${chapterNum}&lang=zh`;
}
</script>
</body>
</html>
